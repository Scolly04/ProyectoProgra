@{
    ViewData["Title"] = "Inicio";
}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />

<div class="container mt-5">
    <h2 class="text-center mb-5 fw-bold text-primary">Bienvenido al Sistema de Gestión</h2>

    <div class="row g-4 justify-content-center">

        <!-- Registro de Estudiantes -->
        <div class="col-md-4">
            <button type="button"
                    class="btn btn-primary w-100 py-3 shadow rounded-4 swal-redirect"
                    data-url="@Url.Action("RegistroEstudiantes", "RegistroEstudiantes")"
                    data-title="¿Desea registrar un nuevo estudiante?"
                    data-text="Será dirigido al formulario de registro."
                    data-icon="question"
                    data-confirm="Sí, ir al registro">
                <i class="fas fa-user-plus fa-lg"></i> Registrar Estudiante
            </button>
        </div>

        <!-- Lista de Estudiantes -->
        <div class="col-md-4">
            <button type="button"
                    class="btn btn-secondary w-100 py-3 shadow rounded-4 swal-redirect"
                    data-url="@Url.Action("ListaEstudiantes", "RegistroEstudiantes")"
                    data-title="¿Desea ver la lista de estudiantes?"
                    data-text="Será dirigido a la lista de estudiantes."
                    data-icon="info"
                    data-confirm="Sí, ver lista">
                <i class="fas fa-list fa-lg"></i> Lista de Estudiantes
            </button>
        </div>

        <!-- Dashboard -->
        <div class="col-md-4">
            <button type="button"
                    class="btn btn-success w-100 py-3 shadow rounded-4 swal-redirect"
                    data-url="@Url.Action("Index", "Dashboard")"
                    data-title="¿Ir al Dashboard?"
                    data-text="Será dirigido al panel principal."
                    data-icon="info"
                    data-confirm="Ir al Dashboard">
                <i class="fas fa-tachometer-alt fa-lg"></i> Dashboard
            </button>
        </div>

        <!-- Reportes -->
        <div class="col-md-4">
            <button type="button"
                    class="btn btn-warning w-100 py-3 shadow rounded-4 swal-redirect"
                    data-url="@Url.Action("Index", "Reportes")"
                    data-title="¿Ir a Reportes?"
                    data-text="Será dirigido a la sección de reportes."
                    data-icon="info"
                    data-confirm="Ir a reportes">
                <i class="fas fa-file-alt fa-lg"></i> Reportes
            </button>
        </div>

        <!-- Estudiante (controlador Estudiante -> acción Lista) -->
        <div class="col-md-4">
            <button type="button"
                    class="btn btn-info w-100 py-3 shadow rounded-4 swal-redirect"
                    data-url="@Url.Action("Lista", "Estudiante")"
                    data-title="¿Ir a Estudiantes?"
                    data-text="Será dirigido a la página de estudiantes."
                    data-icon="info"
                    data-confirm="Ir a estudiantes">
                <i class="fas fa-user fa-lg"></i> Estudiante
            </button>
        </div>

    </div>
</div>

<!-- SCRIPTS: SweetAlert antes del script personalizado -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const botones = document.querySelectorAll('.swal-redirect');

        if (!botones) return;

        botones.forEach(btn => {
            btn.addEventListener('click', function (e) {
                e.preventDefault();
                const url = this.dataset.url;
                const title = this.dataset.title || '¿Continuar?';
                const text = this.dataset.text || '';
                const icon = this.dataset.icon || 'question';
                const confirmText = this.dataset.confirm || 'Sí';

                // Si no hay URL, avisa en consola y con SweetAlert
                if (!url) {
                    console.error('Botón swal-redirect sin data-url definido.');
                    Swal.fire('Error', 'No se encontró la ruta para este botón.', 'error');
                    return;
                }

                Swal.fire({
                    title: title,
                    text: text,
                    icon: icon,
                    showCancelButton: true,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: confirmText
                }).then((result) => {
                    if (result.isConfirmed) {
                        // redirige
                        window.location.href = url;
                    }
                });
            });
        });
    });
</script>
